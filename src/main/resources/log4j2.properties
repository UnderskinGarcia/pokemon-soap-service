# Log4j2 Configuration - Pokemon SOAP Service
# Documentation: https://logging.apache.org/log4j/2.x/manual/configuration.html
# Root Configuration
status=WARN
monitorInterval=30
# Properties
property.LOG_PATTERN=%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n
property.LOG_PATTERN_CONSOLE=%d{HH:mm:ss.SSS} %highlight{%-5level}{FATAL=red, ERROR=red, WARN=yellow, INFO=green, DEBUG=cyan, TRACE=blue} %style{%logger{36}}{cyan} - %msg%n
property.APP_LOG_ROOT=logs
# ============================================================================
# APPENDERS
# ============================================================================
# Console Appender
appender.console.type=Console
appender.console.name=Console
appender.console.target=SYSTEM_OUT
appender.console.layout.type=PatternLayout
appender.console.layout.pattern=${LOG_PATTERN_CONSOLE}
appender.console.filter.threshold.type=ThresholdFilter
appender.console.filter.threshold.level=DEBUG
# Application Log - Daily Rolling File
appender.app.type=RollingFile
appender.app.name=ApplicationLog
appender.app.fileName=${APP_LOG_ROOT}/pokemon-service.log
appender.app.filePattern=${APP_LOG_ROOT}/pokemon-service-%d{yyyy-MM-dd}-%i.log.gz
appender.app.layout.type=PatternLayout
appender.app.layout.pattern=${LOG_PATTERN}
appender.app.policies.type=Policies
appender.app.policies.time.type=TimeBasedTriggeringPolicy
appender.app.policies.time.interval=1
appender.app.policies.time.modulate=true
appender.app.policies.size.type=SizeBasedTriggeringPolicy
appender.app.policies.size.size=100MB
appender.app.strategy.type=DefaultRolloverStrategy
appender.app.strategy.max=30
appender.app.strategy.delete.type=Delete
appender.app.strategy.delete.basePath=${APP_LOG_ROOT}
appender.app.strategy.delete.maxDepth=1
appender.app.strategy.delete.ifFileName.type=IfFileName
appender.app.strategy.delete.ifFileName.glob=pokemon-service-*.log.gz
appender.app.strategy.delete.ifLastModified.type=IfLastModified
appender.app.strategy.delete.ifLastModified.age=30d
# Error Log - Separate file for errors
appender.error.type=RollingFile
appender.error.name=ErrorLog
appender.error.fileName=${APP_LOG_ROOT}/pokemon-service-error.log
appender.error.filePattern=${APP_LOG_ROOT}/pokemon-service-error-%d{yyyy-MM-dd}-%i.log.gz
appender.error.layout.type=PatternLayout
appender.error.layout.pattern=${LOG_PATTERN}
appender.error.filter.threshold.type=ThresholdFilter
appender.error.filter.threshold.level=ERROR
appender.error.policies.type=Policies
appender.error.policies.time.type=TimeBasedTriggeringPolicy
appender.error.policies.time.interval=1
appender.error.policies.time.modulate=true
appender.error.policies.size.type=SizeBasedTriggeringPolicy
appender.error.policies.size.size=50MB
appender.error.strategy.type=DefaultRolloverStrategy
appender.error.strategy.max=30
appender.error.strategy.delete.type=Delete
appender.error.strategy.delete.basePath=${APP_LOG_ROOT}
appender.error.strategy.delete.maxDepth=1
appender.error.strategy.delete.ifFileName.type=IfFileName
appender.error.strategy.delete.ifFileName.glob=pokemon-service-error-*.log.gz
appender.error.strategy.delete.ifLastModified.type=IfLastModified
appender.error.strategy.delete.ifLastModified.age=30d
# SOAP Request/Response Log
appender.soap.type=RollingFile
appender.soap.name=SoapLog
appender.soap.fileName=${APP_LOG_ROOT}/soap-requests.log
appender.soap.filePattern=${APP_LOG_ROOT}/soap-requests-%d{yyyy-MM-dd}-%i.log.gz
appender.soap.layout.type=PatternLayout
appender.soap.layout.pattern=${LOG_PATTERN}
appender.soap.policies.type=Policies
appender.soap.policies.time.type=TimeBasedTriggeringPolicy
appender.soap.policies.time.interval=1
appender.soap.policies.time.modulate=true
appender.soap.policies.size.type=SizeBasedTriggeringPolicy
appender.soap.policies.size.size=100MB
appender.soap.strategy.type=DefaultRolloverStrategy
appender.soap.strategy.max=15
appender.soap.strategy.delete.type=Delete
appender.soap.strategy.delete.basePath=${APP_LOG_ROOT}
appender.soap.strategy.delete.maxDepth=1
appender.soap.strategy.delete.ifFileName.type=IfFileName
appender.soap.strategy.delete.ifFileName.glob=soap-requests-*.log.gz
appender.soap.strategy.delete.ifLastModified.type=IfLastModified
appender.soap.strategy.delete.ifLastModified.age=15d
# Database/JPA Log
appender.database.type=RollingFile
appender.database.name=DatabaseLog
appender.database.fileName=${APP_LOG_ROOT}/database.log
appender.database.filePattern=${APP_LOG_ROOT}/database-%d{yyyy-MM-dd}-%i.log.gz
appender.database.layout.type=PatternLayout
appender.database.layout.pattern=${LOG_PATTERN}
appender.database.policies.type=Policies
appender.database.policies.time.type=TimeBasedTriggeringPolicy
appender.database.policies.time.interval=1
appender.database.policies.time.modulate=true
appender.database.policies.size.type=SizeBasedTriggeringPolicy
appender.database.policies.size.size=50MB
appender.database.strategy.type=DefaultRolloverStrategy
appender.database.strategy.max=7
appender.database.strategy.delete.type=Delete
appender.database.strategy.delete.basePath=${APP_LOG_ROOT}
appender.database.strategy.delete.maxDepth=1
appender.database.strategy.delete.ifFileName.type=IfFileName
appender.database.strategy.delete.ifFileName.glob=database-*.log.gz
appender.database.strategy.delete.ifLastModified.type=IfLastModified
appender.database.strategy.delete.ifLastModified.age=7d
# Performance/Metrics Log
appender.performance.type=RollingFile
appender.performance.name=PerformanceLog
appender.performance.fileName=${APP_LOG_ROOT}/performance.log
appender.performance.filePattern=${APP_LOG_ROOT}/performance-%d{yyyy-MM-dd}-%i.log.gz
appender.performance.layout.type=PatternLayout
appender.performance.layout.pattern=${LOG_PATTERN}
appender.performance.policies.type=Policies
appender.performance.policies.time.type=TimeBasedTriggeringPolicy
appender.performance.policies.time.interval=1
appender.performance.policies.time.modulate=true
appender.performance.policies.size.type=SizeBasedTriggeringPolicy
appender.performance.policies.size.size=50MB
appender.performance.strategy.type=DefaultRolloverStrategy
appender.performance.strategy.max=15
appender.performance.strategy.delete.type=Delete
appender.performance.strategy.delete.basePath=${APP_LOG_ROOT}
appender.performance.strategy.delete.maxDepth=1
appender.performance.strategy.delete.ifFileName.type=IfFileName
appender.performance.strategy.delete.ifFileName.glob=performance-*.log.gz
appender.performance.strategy.delete.ifLastModified.type=IfLastModified
appender.performance.strategy.delete.ifLastModified.age=15d
# ============================================================================
# LOGGERS
# ============================================================================
# Application Loggers
logger.app.name=com.bankaya.pokemon
logger.app.level=INFO
logger.app.additivity=false
logger.app.appenderRef.console.ref=Console
logger.app.appenderRef.app.ref=ApplicationLog
logger.app.appenderRef.error.ref=ErrorLog
# SOAP Endpoint Logger
logger.soap.name=com.bankaya.pokemon.infrastructure.adapter.soap
logger.soap.level=INFO
logger.soap.additivity=false
logger.soap.appenderRef.console.ref=Console
logger.soap.appenderRef.soap.ref=SoapLog
logger.soap.appenderRef.error.ref=ErrorLog
# Database/Hibernate Loggers
logger.hibernate.name=org.hibernate
logger.hibernate.level=WARN
logger.hibernate.additivity=false
logger.hibernate.appenderRef.database.ref=DatabaseLog
logger.hibernateSQL.name=org.hibernate.SQL
logger.hibernateSQL.level=DEBUG
logger.hibernateSQL.additivity=false
logger.hibernateSQL.appenderRef.database.ref=DatabaseLog
logger.hibernateType.name=org.hibernate.type.descriptor.sql.BasicBinder
logger.hibernateType.level=TRACE
logger.hibernateType.additivity=false
logger.hibernateType.appenderRef.database.ref=DatabaseLog
logger.hikari.name=com.zaxxer.hikari
logger.hikari.level=INFO
logger.hikari.additivity=false
logger.hikari.appenderRef.database.ref=DatabaseLog
# Spring Framework
logger.spring.name=org.springframework
logger.spring.level=INFO
logger.spring.additivity=false
logger.spring.appenderRef.console.ref=Console
logger.spring.appenderRef.app.ref=ApplicationLog
logger.springWeb.name=org.springframework.web
logger.springWeb.level=INFO
logger.springWeb.additivity=false
logger.springWeb.appenderRef.console.ref=Console
logger.springWeb.appenderRef.app.ref=ApplicationLog
logger.springWS.name=org.springframework.ws
logger.springWS.level=DEBUG
logger.springWS.additivity=false
logger.springWS.appenderRef.soap.ref=SoapLog
# WebClient/Reactor
logger.webClient.name=org.springframework.web.reactive.function.client
logger.webClient.level=DEBUG
logger.webClient.additivity=false
logger.webClient.appenderRef.performance.ref=PerformanceLog
logger.reactor.name=reactor.netty
logger.reactor.level=INFO
logger.reactor.additivity=false
logger.reactor.appenderRef.performance.ref=PerformanceLog
# Suppress verbose logs
logger.catalina.name=org.apache.catalina
logger.catalina.level=WARN
logger.tomcat.name=org.apache.tomcat
logger.tomcat.level=WARN
logger.coyote.name=org.apache.coyote
logger.coyote.level=WARN
# Root Logger
rootLogger.level=INFO
rootLogger.appenderRef.console.ref=Console
rootLogger.appenderRef.app.ref=ApplicationLog
rootLogger.appenderRef.error.ref=ErrorLog